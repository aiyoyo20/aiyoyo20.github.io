<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>内置函数</title>

    <link rel="stylesheet" href="/theme/css/normalize.css" />
    <link rel="stylesheet" href="/theme/css/foundation.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" />	
    <script src="/theme/js/custom.modernizr.js"></script>

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<!-- Nav Bar -->
<nav>
<div class="top-bar">
<div class="row">
    <div class="large-9 large-centered columns">
	    <h1><a href="">gogogo</a></h1>
    </div>
</div>
</div>

<!-- Show menu items and pages -->
<div class="row">
<div class="large-9 columns">
    <ul class="button-group navigation">

    </ul>
</div>
</div>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->
<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns">
<article>
    <header>
        <h3 class="article-title"><a href="/nei-zhi-han-shu.html" rel="bookmark"
        title="Permalink to 内置函数">内置函数</a></h3>
    </header>

<h6 class="subheader" title="2022-05-12T18:44:44.919154+02:00">Thu 12 May 2022
</h6>


    <h2>map()</h2>
<p>map() 函数语法：
    map(function, iterable, ...)
参数:
    function -- 函数
    iterable -- 一个或多个序列
返回值
    Python 2.x 返回列表。
    Python 3.x 返回迭代器对象。</p>
<p>传很多个 iterable，如果有额外的 iterable 参数，并行的从这些参数中取元素，并调用 function。如果一个 iterable 参数比另外的 iterable 参数要短，将以长度最小的为基准。</p>
<div class="highlight"><pre><span></span><code><span class="nv">def</span> <span class="nv">add</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>:
    <span class="k">return</span> <span class="nv">x</span><span class="o">+</span><span class="mi">1</span>

<span class="nv">list1</span> <span class="o">=</span> [<span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>]
<span class="nv">res</span> <span class="o">=</span> <span class="nv">map</span><span class="ss">(</span><span class="nv">add</span>, <span class="nv">list1</span><span class="ss">)</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">list</span><span class="ss">(</span><span class="nv">res</span><span class="ss">))</span>

# [<span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>]
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterator</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span>

<span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">list3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">res</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">,</span> <span class="n">list3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">Iterator</span><span class="p">))</span>

<span class="c1"># [(1, 1, 1), (2, 2, 2), (3, 3, 3)]</span>
<span class="c1"># True</span>
</code></pre></div>

<h2>filter()</h2>
<p>语法：
    filter(function, iterable)
参数：
    function -- 判断函数。
    iterable -- 可迭代对象。
返回值：
    返回迭代器对象。</p>
<p>filter() 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。</p>
<p>该接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。</p>
<div class="highlight"><pre><span></span><code><span class="nv">def</span> <span class="nv">is_odd</span><span class="ss">(</span><span class="nv">n</span><span class="ss">)</span>:
    <span class="k">return</span> <span class="nv">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>

<span class="nv">newlist</span> <span class="o">=</span> <span class="nv">filter</span><span class="ss">(</span><span class="nv">is_odd</span>, [<span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>, <span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">6</span>, <span class="mi">7</span>, <span class="mi">8</span>, <span class="mi">9</span>, <span class="mi">10</span>]<span class="ss">)</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">newlist</span><span class="ss">)</span>
# [<span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">5</span>, <span class="mi">7</span>, <span class="mi">9</span>]
</code></pre></div>

<h2>reduce()</h2>
<p>函数语法：
    reduce(function, sequence[, initial]) 
参数:
    function    有两个参数的函数， 必需参数
    sequence    tuple ，list ，dictionary， string等可迭代物，必需参数
    initial 初始值， 可选参数
返回值：
    reduce的工作过程是 ：在迭代sequence(tuple ，list ，dictionary， string等可迭代物)的过程中，首先把 前两个元素传给 函数参数，函数加工后，然后把得到的结果和第三个元素作为两个参数传给函数参数， 函数加工后得到的结果又和第四个元素作为两个参数传给函数参数，依次类推。 如果传入了 initial 值， 那么首先传的就不是 sequence 的第一个和第二个元素，而是 initial值和 第一个元素。经过这样的累计计算之后合并序列到一个单一返回值。</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>

<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]))</span>
<span class="c1"># 10</span>
</code></pre></div>

<h2>zip()</h2>
<p>语法：
    zip([iterable, ...])
参数说明：
    iterabl -- 一个或多个迭代对象;
返回值：
    返回一个迭代器对象。</p>
<p>zip() 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的对象，这样做的好处是节约了不少的内存。</p>
<p>我们可以使用 list() 转换来输出列表。</p>
<p>如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。</p>
<div class="highlight"><pre><span></span><code>a = [1,2,3]
b = [4,5,6]
c = [4,5,6,7,8]

print(list(zip(a,b,c)))
print(list(zip(a,c)))              # 元素个数与最短的列表一致
a1, a2 = zip(*zip(a,b))          # 与 zip 相反，zip(*) 可理解为解压，返回二维矩阵式
print(*zip(a,b))
print(list(a2))

# [(1, 4, 4), (2, 5, 5), (3, 6, 6)]
# [(1, 4), (2, 5), (3, 6)]
# (1, 4) (2, 5) (3, 6)
# [4, 5, 6]
</code></pre></div>

<h2>enumrate()</h2>
<p>语法：
    enumerate(sequence, [start=0])
参数：
    sequence -- 一个序列、迭代器或其他支持迭代对象。
    start -- 下标起始位置。
返回值：
    返回 enumerate(枚举) 对象。
    为迭代器对象</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="w"></span>
<span class="nb">print</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span><span class="w"></span>
<span class="nb">print</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">)))</span><span class="w"></span>

<span class="c1"># [(0, 1), (1, 2), (2, 3)]</span><span class="w"></span>
<span class="c1"># [(2, 1), (3, 2), (4, 3)]</span><span class="w"></span>
</code></pre></div>

<h2>pow()</h2>
<p>语法：
    pow(x, y[, z])
    函数是计算x的y次方，如果z在存在，则再对结果进行取模，其结果等效于pow(x,y) %z</p>
<p>注意：pow() 通过内置的方法直接调用，内置方法会把参数作为整型，而 math 模块则会把参数转换为 float。</p>
<p>参数：
    x -- 数值表达式。
    y -- 数值表达式。
    z -- 数值表达式。
返回值：
    返回 xy（x的y次方） 的值。</p>
<div class="highlight"><pre><span></span><code>print(pow(4,2))
print(pow(4,2,3))

# 16
# 1
</code></pre></div>

<h2>max() / ,min()</h2>
<p>max和min函数的使用介绍：
    对可迭代对象元素进行比较，找到最大/最小值      max(iterable, <em>[, default=obj, key=func])
    对传入的多个参数进行比较，找到最大/最小值      max(arg1, arg2, </em>args, *[, key=func])</p>
<p>简单使用</p>
<div class="highlight"><pre><span></span><code>list_a = [1,2,3,5,8]
print(max(list_a))
</code></pre></div>

<p>带默认参数</p>
<div class="highlight"><pre><span></span><code># 如果设定 default，当传入的对象为空时则返回 default 值而不会引发错误
list_a = []
print(max(list_a,default=1))
</code></pre></div>

<p>带 key
key应当传入一个可调用对象，一般传入的是函数。指定key之后，max函数就会根据key处理后的元素进行比较</p>
<div class="highlight"><pre><span></span><code># 需求1： 比如下面的情况，每种水果的价格信息都是以字典的形式存放的列表中，要找到最贵的水果和最便宜的水果

fruit_shop = [
    {&#39;name&#39;: &#39;apple&#39;,  &#39;price&#39;: 5.68},
    {&#39;name&#39;: &#39;orange&#39;, &#39;price&#39;: 4.22},
    {&#39;name&#39;: &#39;banana&#39;, &#39;price&#39;: 2.65},
    {&#39;name&#39;: &#39;berries&#39;, &#39;price&#39;: 10.75}]

cheap = min(fruit_shop, key=lambda s: s[&#39;price&#39;])
expensive = max(fruit_shop, key=lambda s: s[&#39;price&#39;])
print(&#39;最便宜的水果是:&#39;, cheap)
print(&#39;最贵的水果是:&#39;, expensive)

####
# 最便宜的水果是: {&#39;name&#39;: &#39;banana&#39;, &#39;price&#39;: 2.65}
# 最贵的水果是: {&#39;name&#39;: &#39;berries&#39;, &#39;price&#39;: 10.75}


# 需求2：找到列表中出现次数最多的元素。

lt = [2, 2, 3, 1, 2, 2, 1, 8, 5]
max(set(lt), key=lt.count)
</code></pre></div>

<h2>sorted</h2>
<p>sorted(iterable, *, key=None, reverse=False) 
必需参数为一个可迭代对象
key 指定带有单个参数的函数，用于从 iterable 的每个元素中提取用于比较的键 (例如 key=str.lower)。 默认值为 None (直接比较元素)。</p>
<p>reverse 为一个布尔值。 如果设为 True，则每个列表元素将按反向顺序比较进行排序。</p>
<p>返回为一个列表新对象，不会改变原来的对象。</p>
<p>排序保证是 稳定 的。 这意味着当多个记录具有相同的键值时，将保留其原始顺序</p>
<div class="highlight"><pre><span></span><code><span class="n">list_num</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">list_num</span><span class="p">))</span>
<span class="c1"># [1, 2, 4, 8, 10]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">list_num</span><span class="p">,</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="c1"># [10, 8, 4, 2, 1]</span>

<span class="n">dict_one</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">23</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dict_one</span><span class="p">))</span>
<span class="c1"># [1,2] 字典的排序默认为为键进行排序</span>
<span class="c1"># 可先转为元组，即可对键或值排序</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dict_one</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>  <span class="c1"># 对键进行排序</span>
<span class="c1"># [(1, 23), (2, 12)]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dict_one</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>  <span class="c1"># 对值进行排序</span>
<span class="c1"># [(2, 12), (1, 23)]</span>

<span class="c1"># 多重排序</span>
<span class="c1"># 考虑如下情况</span>
<span class="c1"># [(2, 12), (1, 23)，(2, 13), (1, 33)]</span>
<span class="c1"># 先按照0号位的排序，有相同的再按照1号位的排序</span>
<span class="n">test</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">33</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">test</span><span class="p">,</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
<span class="c1"># [(1, 23), (1, 33), (2, 12), (2, 13)]</span>
<span class="c1"># 有多重的话也是类似的，lambda 函数后的元组指定多个即可</span>

<span class="c1">#使用 Operator 模块函数</span>
<span class="c1"># 例子可简化为</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dict_one</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>  <span class="c1"># 对值进行排序</span>
<span class="c1"># [(2, 12), (1, 23)]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">test</span><span class="p">,</span><span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="c1"># [(1, 23), (1, 33), (2, 12), (2, 13)]</span>
</code></pre></div>
<p class="subheader">Category: <a href="/category/python.html">Python</a>

</p>




</article>
    </div>
    <!-- End Main Content -->

    <!-- Sidebar -->
    <aside class="large-3 columns">
        <h5 class="sidebar-title">Site</h5>
        <ul class="side-nav">
            <li><a href="/archives.html">Archives</a>
            <li><a href="/tags.html">Tags</a>


        </ul>

		
        <h5 class="sidebar-title">Categories</h5>
        <ul class="side-nav">
            <li><a href="/category/android.html">Android</a></li>
            <li><a href="/category/database.html">DataBase</a></li>
            <li><a href="/category/front-end.html">Front-end</a></li>
            <li><a href="/category/golang.html">Golang</a></li>
            <li><a href="/category/interview_questions.html">Interview_questions</a></li>
            <li><a href="/category/linux.html">Linux</a></li>
            <li><a href="/category/others.html">Others</a></li>
            <li><a href="/category/python.html">Python</a></li>
            <li><a href="/category/tools.html">Tools</a></li>
            <li><a href="/category/windows.html">Windows</a></li>
   
        </ul>

        <h5 class="sidebar-title">Links</h5>
        <ul class="side-nav">
            <li><a href="https://getpelican.com/">Pelican</a></li>
            <li><a href="https://www.python.org/">Python.org</a></li>
            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
            <li><a href="#">github</a></li>
        </ul>
		
        <h5 class="sidebar-title">Social</h5>
        <ul class="side-nav">
            <li><a href="#">You can add links in your config file</a></li>
            <li><a href="#">Another social link</a></li>
        </ul>

    </aside> <!-- End Sidebar -->

</div> <!-- End Main Content and Sidebar -->


<!-- Footer -->
<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
                <p>gogogo by yoyo</p>
            </div>
            </div>
    </div>
</footer>