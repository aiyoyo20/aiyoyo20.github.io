<!DOCTYPE html>
<html lang="zh">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="google-site-verification" content="GgupatpoZgdqsBlxEZoMqGAy3aXAFtXIrYged3SB6EA" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>解、压缩 | nJcx's Blog
</title>
  <link rel="canonical" href="https://www.njcx.bid/share/posts/jie-ya-suo.html">


  <link rel="apple-touch-icon" href="https://www.njcx.bid/share/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://www.njcx.bid/share/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://www.njcx.bid/share/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="https://www.njcx.bid/share/manifest.json">
  <meta name="theme-color" content="#333333">

  <link rel="stylesheet" href="https://www.njcx.bid/share/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://www.njcx.bid/share/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://www.njcx.bid/share/theme/css/pygments/emacs.min.css">
  <link rel="stylesheet" href="https://www.njcx.bid/share/theme/css/style.css">


<meta name="description" content="1. tar 参数说明： -c: 建立压缩档案 -x：解压 -t：查看内容 -r：向压缩归档文件末尾追加文件 -u：更新原压缩包中的文件 这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。下面的参数是根据需要在压缩或解压档案时可选的。 -z：有gzip属性的 -j：有bz2属性的 -Z：有compress属性的 -v：显示所有过程 -O：将文件解开到标准输出 下面的参数-f是必须的 -f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。 1.1. tar 严格来说，tar文件只是归档但并未压缩 tar -cvf test.tar test1.log test2.log #归档多个文件 tar -cvf test …">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a34c7a96ae9745547c373575407c521f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

</head>

<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <div class="col-sm-4">
          <a href="https://www.njcx.bid/share">
            <img class="img-fluid" src=https://www.njcx.bid/share/images/profile.png width=200 height=200 alt="nJcx's Blog">
          </a>
        </div>
        <div class="col-sm-8">
          <h1 class="title">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<a href="https://www.njcx.bid/share">nJcx's Blog</a></h1>
          <p class="text-muted">生而不忧，死而不怖。得其时横刀天下，不得其时蓬头而行</p>
          <ul class="list-inline">
                    <li class="list-inline-item">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<a href="https://www.zhihu.com/people/njcxs" target="_blank">知乎</a></li>
                <li class="list-inline-item"><a href="https://www.facebook.com/nJcx1" target="_blank">FaceBook</a></li>
                <li class="list-inline-item"><a href="https://github.com/njcx" target="_blank">Github</a></li>
            <li class=" list-inline-item text-muted">|</li>
            <li class="list-inline-item"><a class="fa fa-github" href="https://github.com/njcx" target="_blank"></a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>解、压缩
</h1>
      <hr>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2020-09-03T10:20:00+03:00">
        <i class="fa fa-clock-o"></i>
        Thu 03 September 2020
      </li>
      <li class="list-inline-item">
        <i class="fa fa-folder-open-o"></i>
        <a href="https://www.njcx.bid/share/category/tools.html">Tools</a>
      </li>
      <li class="list-inline-item">
        <i class="fa fa-user-o"></i>
        <a href="https://www.njcx.bid/share/author/njcx.html">nJcx</a>      </li>
      <li class="list-inline-item">
        <i class="fa fa-files-o"></i>
        <a href="https://www.njcx.bid/share/tag/linux.html">#linux</a>      </li>
    </ul>
  </header>
  <div class="content">
    <h1>1. tar</h1>
<blockquote>
<p>参数说明：</p>
<p>-c: 建立压缩档案
-x：解压
-t：查看内容
-r：向压缩归档文件末尾追加文件
-u：更新原压缩包中的文件</p>
<hr>
<p>这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。下面的参数是根据需要在压缩或解压档案时可选的。</p>
<p>-z：有gzip属性的
-j：有bz2属性的
-Z：有compress属性的
-v：显示所有过程
-O：将文件解开到标准输出</p>
<p>下面的参数-f是必须的</p>
<p>-f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。</p>
</blockquote>
<h2>1.1. tar</h2>
<p>严格来说，tar文件只是归档但并未压缩</p>
<div class="highlight"><pre><span></span><code>tar -cvf test.tar test1.log test2.log #归档多个文件
tar -cvf test.tar test/* &amp;emsp;[[归档test]]目录下所有文件
tar -cvf test.tar *.log &amp;emsp;#归档所有以.log结尾的文件
</code></pre></div>

<div class="highlight"><pre><span></span><code>tar -xvf file.tar        //解压 tar包
</code></pre></div>

<hr>
<h2>1.2. tar.gz</h2>
<div class="highlight"><pre><span></span><code>tar -zxvf file.tar.gz     //解压tar.gz
</code></pre></div>

<div class="highlight"><pre><span></span><code>tar -zcvf test.tar.gz file1 file2 [[打包，并以gzip]]压缩
</code></pre></div>

<h2>1.3. tar.bz2</h2>
<div class="highlight"><pre><span></span><code>tar -jxvf test.tar.bz2 file1 file2 [[打包，并以bzip2]]压缩
</code></pre></div>

<div class="highlight"><pre><span></span><code>tar -jcvf test.tar.bz2 file1 file2 [[打包，并以bzip2]]压缩
</code></pre></div>

<h2>1.4. tar.Z</h2>
<div class="highlight"><pre><span></span><code>tar -xZvf file.tar.Z    //解压tar.Z
</code></pre></div>

<div class="highlight"><pre><span></span><code>tar -cZvf file.tar.Z    //压缩tar.Z
</code></pre></div>

<h2>1.5. tar.xz</h2>
<div class="highlight"><pre><span></span><code>压缩tar.xz包
先创建xxx.tar文件

tar -cvf xxx.tar xxx
再创建xxx.tar.xz文件

xz -z xxx.tar
如果要保留被压缩的文件，需要加上参数-k
</code></pre></div>

<div class="highlight"><pre><span></span><code>解压tar.xz包
这是两层压缩，外面是xz压缩，里层是tar压缩，所以分两步实现解压。

xz -d filename.tar.xz
tar -xvf filename.tar.xz

也可以直接解压
tar -xvJf filename.tar.xz
</code></pre></div>

<h1>2. zip/unzip</h1>
<p>zip和unzip命令主要用于处理zip包。记得linux默认也是没有的，需要额外安装。</p>
<blockquote>
<p>zip
功能说明：压缩文件。
语　　法：zip [-AcdDfFghjJKlLmoqrSTuvVwXyz$][-b &lt;工 作目录&gt;][-ll][-n &lt;字 尾字符串&gt;][-t &lt;日 期时间&gt;][-&lt;压 缩效率&gt;][压 缩文件][文件...][-i &lt;范本样式&gt;][-x &lt;范本样式&gt;]
补充说明：zip是个使用广泛的压缩程序，文件经它压缩后会另外产生具 有".zip"扩展名 的压缩文件。
参　　数：
-A   调 整可执行的自动解压缩文件。
-b&lt;工作目录&gt;   指 定暂时存放文件的目录。
-c   替 每个被压缩的文件加上注释。
-d   从 压缩文件内删除指定的文件。
-D   压 缩文件内不建立目录名称。
-f   此 参数的效果和指定"-u"参 数类似，但不仅更新既有文件，如果某些文件原本不存在于压缩文件内，使用本参数会一并将其加入压缩文件中。
-F   尝 试修复已损坏的压缩文件。
-g   将 文件压缩后附加在既有的压缩文件之后，而非另行建立新的压缩文件。
-h   在 线帮助。
-i&lt;范本样式&gt;   只 压缩符合条件的文件。
-j   只 保存文件名称及其内容，而不存放任何目录名称。
-J   删 除压缩文件前面不必要的数据。
-k   使 用MS-DOS兼容格 式的文件名称。
-l   压 缩文件时，把LF字符 置换成LF+CR字 符。
-ll   压 缩文件时，把LF+CR字 符置换成LF字符。
-L   显 示版权信息。
-m   将 文件压缩并加入压缩文件后，删除原始文件，即把文件移到压缩文件中。
-n&lt;字尾字符串&gt;   不 压缩具有特定字尾字符串的文件。
-o   以 压缩文件内拥有最新更改时间的文件为准，将压缩文件的更改时间设成和该文件相同。
-q   不显 示指令执行过程。
-r   递 归处理，将指定目录下的所有文件和子目录一并处理。
-S   包 含系统和隐藏文件。
-t&lt;日期时间&gt;   把 压缩文件的日期设成指定的日期。
-T   检 查备份文件内的每个文件是否正确无误。
-u   更 换较新的文件到压缩文件内。
-v   显 示指令执行过程或显示版本信息。
-V   保 存VMS操作系统的文 件属性。
-w   在 文件名称里假如版本编号，本参数仅在VMS操 作系统下有效。
-x&lt;范本样式&gt;   压 缩时排除符合条件的文件。
-X   不 保存额外的文件属性。
-y   直 接保存符号连接，而非该连接所指向的文件，本参数仅在UNIX之 类的系统下有效。
-z   替 压缩文件加上注释。
-$   保 存第一个被压缩文件所在磁盘的卷册名称。
-&lt;压缩效率&gt;   压 缩效率是一个介于1-9的 数值。</p>
<p>unzip
功 能说明：解压缩zip文 件
语　　法：unzip [-cflptuvz][-agCjLMnoqsVX][-P &lt;密 码&gt;][.zip文 件][文件][-d &lt;目录&gt;][-x &lt;文件&gt;] 或 unzip [-Z]
补充说明：unzip为.zip压缩文件的解压缩程序。
参　　数：
-c   将 解压缩的结果显示到屏幕上，并对字符做适当的转换。
-f   更 新现有的文件。
-l   显 示压缩文件内所包含的文件。
-p   与-c参数类似，会将解压缩的结果显示到屏幕上，但不会执行任 何的转换。
-t   检 查压缩文件是否正确。，但不解压。
-u   与-f参数类似，但是除了更新现有的文件外，也会将压缩文件中 的其他文件解压缩到目录中。
-v   执 行是时显示详细的信息。或查看压缩文件目录，但不解压。
-z   仅 显示压缩文件的备注文字。
-a   对 文本文件进行必要的字符转换。
-b   不 要对文本文件进行字符转换。
-C   压 缩文件中的文件名称区分大小写。
-j   不 处理压缩文件中原有的目录路径。
-L   将 压缩文件中的全部文件名改为小写。
-M   将 输出结果送到more程 序处理。
-n   解 压缩时不要覆盖原有的文件。
-o   不 必先询问用户，unzip执 行后覆盖原有文件。
-P&lt;密码&gt;   使 用zip的密码选项。
-q   执 行时不显示任何信息。
-s   将 文件名中的空白字符转换为底线字符。
-V   保 留VMS的文件版本信 息。
-X   解 压缩时同时回存文件原来的UID/GID。
[.zip文件]   指定.zip压缩文件。
[文件]   指定 要处理.zip压缩文 件中的哪些文件。
-d&lt;目录&gt;   指 定文件解压缩后所要存储的目录。
-x&lt;文件&gt;   指 定不要处理.zip压 缩文件中的哪些文件。
-Z   unzip -Z等 于执行zipinfo指 令。</p>
</blockquote>
<h2>2.1. 压缩</h2>
<div class="highlight"><pre><span></span><code>zip test.zip filename # 压缩文件
zip -r test.zip test/ # 打包test目录下的文件
zip -rj test.zip test/ # 打包test目录下文件，且压缩包不带test目录
</code></pre></div>

<p>压缩时如果需要对压缩包进行加密，可使用-P参数：</p>
<div class="highlight"><pre><span></span><code>zip -r test.zip test1 test -P 66666 # 使用密码66666加密
</code></pre></div>

<h2>2.2. 解压</h2>
<div class="highlight"><pre><span></span><code>unzip test.zips # 解压文件
unzip -o test.zip -d dir # 将test.zip解压到dir目录
</code></pre></div>

<h2>2.3. jar包</h2>
<p>jar包是java归档包，但同样可用unzip解压查看里面的文件：</p>
<div class="highlight"><pre><span></span><code>unzip -o java.jar -d dir
</code></pre></div>

<h1>3. gzip</h1>
<blockquote>
<p>涉及参数说明：
-k 保留源文件
-d 解开压缩文件
-r 递归处理，将指定目录下的所有文件及子目录一并处理
-v 显示指令执行过程</p>
<p>tar命令带有-z参数，并且打包成tar.gz文件时，便调用gzip进行了压缩。gzip对文本的压缩率约有60%~70%，压缩包文件常以gz为后缀。使用-k参数保留源文件：</p>
</blockquote>
<div class="highlight"><pre><span></span><code>gzip -k ./* [[当前目录下所有文件进行压缩，每个文件一个gz]]包
gzip -rkv ./* 递归压缩
</code></pre></div>

<p>解压也很简单：</p>
<div class="highlight"><pre><span></span><code>gzip -dv test.gz
</code></pre></div>

<h1>4. bzip2</h1>
<p>tar命令使用-j参数将文件打包为tar.bz2时，便调用了bzip2进行压缩。bzip2压缩或解压后，会将源文件删除。如果需要保留源文件，可使用-k参数:</p>
<div class="highlight"><pre><span></span><code>bzip2 -zk test  [[压缩test]]文件
bzip2 -dk test.bz2  #解压
</code></pre></div>

<h1>5. rar/unrar</h1>
<p>rar和unrar命令并非linux发行版自带命令，需要另外安装。常见用法如下：</p>
<div class="highlight"><pre><span></span><code>rar a test.tar test  [[将test文件压缩为test]].tar
unrar e test.rar     [[解压test]].tar
</code></pre></div>

<h1>6. war</h1>
<blockquote>
<p>jar
-c   创建war包
-v   显示过程信息
-f    指定归档文件名
-M  不创建条目的清单文件
-0   这个是阿拉伯数字，只打包不压缩的意思</p>
</blockquote>
<div class="highlight"><pre><span></span><code>jar -xvf game.war # 解压war包并存储在当前目录下
jar -cvf filename.war filename  压缩
jar -cvfM0 game.war ./      # 把当前目录下的所有文件打包成game.war
</code></pre></div>

<h1>7. 压缩率比较</h1>
<blockquote>
<p>压缩率一般来说：
tar.bz2&gt;tar.gz&gt;zip&gt;tar
压缩率越高，压缩以及解压的时间也就越长。
总结
对文件进行压缩能够节省磁盘空间，进行网络传输时，也能节省带宽，但是需要注意的是，空间和时间是需要根据实际应用进行权衡的。</p>
</blockquote>
<p>参考：
<a href="https://juejin.im/post/6844903923132694536#heading-18">看完这篇Linux下的解压缩你还不会吗？</a>
<a href="https://www.cnblogs.com/nhdlb/p/11568991.html#_label2">Linux：linux下解压*压缩tar.xz、等文件方法</a></p>
  </div>
</article>
<div id="cyReward" role="cylabs" data-use="reward" style="text-align:center;"></div>
<!--PC和WAP自适应版-->
<div id="SOHUCS" ></div> 
<script type="text/javascript"> 
(function(){ 
var appid = 'cysYUIjwy'; 
var conf = 'prod_71b5e53cad0d27b5ed44fa5219b069b5'; 
var width = window.innerWidth || document.documentElement.clientWidth; 
if (width < 960) { 
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

<script type="text/javascript" charset="utf-8" src="https://changyan.itc.cn/js/lib/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="https://changyan.sohu.com/js/changyan.labs.https.js?appid=cysYUIjwy"></script>    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
       <ul class="col-sm-6 list-inline">
          <li class="list-inline-item"><a href="https://www.njcx.bid/share/authors.html">Authors</a></li>
          <li class="list-inline-item"><a href="https://www.njcx.bid/share/archives.html">Archives</a></li>
          <li class="list-inline-item"><a href="https://www.njcx.bid/share/categories.html">Categories</a></li>
          <li class="list-inline-item"><a href="https://www.njcx.bid/share/tags.html">Tags</a></li>
        </ul>
        <p class="col-sm-6 text-sm-right text-muted">
          本站由 <a href="https://github.com/getpelican/pelican" target="_blank">Pelican 生成</a> 后续 by <a href="https://github.com/njcx" target="_blank">nJcx</a>
        </p>
      </div>
    </div>
  </footer>
</body>

</html>